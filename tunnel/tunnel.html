<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Tunnel Rush Unblocked</title>
    <meta name="description" content="Tunnel Rush, Tunnel Rush Unblocked">
    <meta property="og:image" content="tunnel-rush.png" />
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
    <script src="js/unity-mod.js"></script>
    <script src="TemplateData/UnityProgress.js"></script>
    <script src="Build/unityloader49.js"></script>
    <script>
       if (window.location.hostname !== "afterlife-paradise.netlify.app") {
    // Redirect to the specified page
    window.location.replace("https://afterlife-paradise.netlify.app/tunnel/tunnel.html");
}

    </script>
    <script>
      // Check for the "ACCESS" cookie
      function checkAccessCookie() {
        var accessCookie = document.cookie.split(';').find(cookie => cookie.trim().startsWith('ACCESS='));
        if (!accessCookie) {
          // Redirect to another page or display an error message
          window.location.href = 'access-denied.html'; // Redirect to an access denied page
        }
      }
      
      var gameInstance;
      
      function loadGame() {
        gameInstance = UnityLoader.instantiate(
          "gameContainer",
          "Build/tunnel-rush-v9.json",
          {
              onProgress: UnityProgress,
              Module: {
                  onRuntimeInitialized: function() {
                      UnityProgress(gameInstance, "complete");
                  }
              }
          });
      }
      
      function fixGameView() {
        const gameView = document.getElementById("gameView");
        if (gameView.clientHeight > gameView.clientWidth) {
          gameView.style.height = Math.floor(gameView.clientWidth) + "px";
        }
      }
      
      // Call checkAccessCookie on page load
      window.onload = function() {
        checkAccessCookie();
        loadGame();
        fixGameView();
      };
    </script>

    <style>
        body {
            margin: 0px;
            padding:0px;
        }
    </style>
</head>
<body style="overflow:hidden; margin:0; padding:0;">
    <div id="gameView" class="webgl-content" style="position: absolute; width: 100%; height: 100%; margin: 0px; padding:0px;">
        <div id="gameContainer" style="width: 100%; height: 100%; margin: 0px; padding:0px;"></div>
    </div>
    <script src="js/analytics_ubg_v1_4.js"></script>
</body>
</html>
